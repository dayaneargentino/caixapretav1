<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Caixa Preta - Interface</title>
    <link rel="stylesheet" href="styles.css">
    <script src="audio-manager.js"></script>
    <script src="audio-button.js"></script>
    <style>
        .container {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
            width: 100vw;
            height: 100vh;
            /* Sobe a caixa um pouco para centralizar visualmente */
            top: -6vh;
        }

        .box-3d {
            width: 220px;
            height: 220px;
            position: relative;
            transform-style: preserve-3d;
            animation: float 3s ease-in-out infinite;
            margin: 0 auto;
            z-index: 2;
            cursor: pointer;
            /* Caixa fechada: perspectiva, mas face front alinhada */
            transform: rotateY(-20deg) rotateX(18deg) translateY(0);
            transition: transform 0.6s cubic-bezier(.77,0,.18,1);
        }

        .box-3d:hover {
            transform: rotateY(15deg) rotateX(15deg) scale(1.1);
        }

        .face {
            position: absolute;
            width: 220px;
            height: 220px;
            background: var(--bg-dark);
            border: 3px solid var(--neon-cyan);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: bold;
            color: var(--neon-cyan);
            text-shadow: 0 0 10px var(--neon-cyan);
            box-shadow: 0 0 40px #00fff7, 0 0 80px #0ff;
            opacity: 0.98;
            transition: transform 1s cubic-bezier(.77,0,.18,1), opacity 0.7s;
        }

        .front {
            transform-origin: center center;
            transform: translateZ(110px) rotateY(0deg);
        }
        .back { transform: translateZ(-110px) rotateY(180deg); }
        .right { transform: translateX(110px) rotateY(90deg); }
        .left { transform: translateX(-110px) rotateY(-90deg); }
        .top {
            transform: translateY(-110px) rotateX(90deg);
            box-shadow: 0 0 60px 10px #00fff7, 0 0 80px 20px #7f5fff;
            background: linear-gradient(120deg, rgba(0,255,247,0.12) 60%, rgba(127,95,255,0.10) 100%);
            border-color: var(--neon-cyan);
            opacity: 0.95;
        }
        .bottom { transform: translateY(110px) rotateX(-90deg); }

        @keyframes float {
            0%, 100% { transform: rotateY(-28deg) rotateX(18deg) translateY(0); }
            50% { transform: rotateY(-28deg) rotateX(18deg) translateY(-20px); }
        }

        .click-effect {
            position: absolute;
            width: 100%;
            height: 100%;
            border: 2px solid var(--neon-cyan);
            border-radius: 50%;
            animation: clickRipple 0.6s ease-out;
            pointer-events: none;
        }

        @keyframes clickRipple {
            0% {
                transform: scale(0);
                opacity: 1;
            }
            100% {
                transform: scale(3);
                opacity: 0;
            }
        }
        /* ===== EFEITO DE CAMADAS ===== */
        #layer-transition {
            position: absolute;
            left: 0; top: 0;
            width: 100%; height: 100%;
            pointer-events: none;
            z-index: 10;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .layer {
            position: absolute;
            left: 50%; top: 50%;
            width: 100vw; height: 100vh;
            background: rgba(0, 255, 255, 0.08);
            border: 2px solid var(--neon-cyan);
            box-shadow: 0 0 40px #00fff7, 0 0 80px #0ff;
            opacity: 0;
            transition: 
                opacity 0.4s, 
                width 0.7s cubic-bezier(.77,0,.18,1), 
                height 0.7s cubic-bezier(.77,0,.18,1), 
                left 0.7s cubic-bezier(.77,0,.18,1), 
                top 0.7s cubic-bezier(.77,0,.18,1);
            border-radius: 18px;
            transform: translate(-50%, -50%);
        }
        .layer1 { transition-delay: 0s; }
        .layer2 { transition-delay: 0.15s; }
        .layer3 { transition-delay: 0.3s; }
        .box-3d.desmontar .front {
            transform: translateZ(400px) rotateY(0deg) scale(1.1);
            opacity: 0.7;
        }
        .box-3d.desmontar .back {
            transform: translateZ(-400px) rotateY(0deg) scale(1.1);
            opacity: 0.7;
        }
        .box-3d.desmontar .right {
            transform: translateX(400px) rotateY(0deg) scale(1.1);
            opacity: 0.7;
        }
        .box-3d.desmontar .left {
            transform: translateX(-400px) rotateY(0deg) scale(1.1);
            opacity: 0.7;
        }
        .box-3d.desmontar .top {
            transform: translateY(-400px) rotateX(0deg) scale(1.1);
            opacity: 0.7;
        }
        .box-3d.desmontar .bottom {
            transform: translateY(400px) rotateX(0deg) scale(1.1);
            opacity: 0.7;
        }
        .box-3d.alinhar {
          transition: transform 1.2s cubic-bezier(.77,0,.18,1);
          transform: rotateY(0deg) rotateX(0deg) scale(2.2) translateY(10vh);
        }
        .box-3d.alinhar .front {
          transform: translateZ(0px) rotateY(0deg);
          opacity: 1;
        }
        .box-3d.alinhar .back {
          transform: translateZ(-40px) rotateY(0deg);
          opacity: 1;
        }
        .box-3d.alinhar .right {
          transform: translateZ(-80px) rotateY(0deg);
          opacity: 1;
        }
        .box-3d.alinhar .left {
          transform: translateZ(-120px) rotateY(0deg);
          opacity: 1;
        }
        .box-3d.alinhar .top {
          transform: translateZ(-160px) rotateY(0deg);
          opacity: 1;
        }
        .box-3d.alinhar .bottom {
          transform: translateZ(-200px) rotateY(0deg);
          opacity: 1;
        }
        .titulo-topo {
          width: 100vw;
          text-align: center;
          margin-top: 32px;
          margin-bottom: 0;
          z-index: 100;
          position: relative;
        }
        .titulo-topo h1 {
          color: var(--neon-cyan);
          font-family: 'Courier New', monospace;
          font-size: 2.6rem;
          letter-spacing: 0.18em;
          text-shadow: 0 0 18px var(--neon-cyan), 0 0 32px #7f5fff;
          font-weight: bold;
          margin: 0 auto 12px auto;
          display: inline-block;
        }
        .cp-face {
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 2.2rem;
          font-family: 'Courier New', monospace;
          color: var(--neon-cyan);
          text-shadow: 0 0 12px var(--neon-cyan), 0 0 24px #7f5fff;
          font-weight: bold;
          letter-spacing: 0.12em;
          gap: 0.4em;
        }
        .fade-vinheta {
          position: fixed;
          left: 0; top: 0;
          width: 100vw;
          height: 100vh;
          pointer-events: none;
          z-index: 99999;
          background: radial-gradient(circle at 50% 50%, rgba(10,10,13,0) 0%, rgba(10,10,13,0.7) 60%, rgba(10,10,13,0.98) 100%);
          opacity: 0;
          transition: opacity 0.7s;
        }
        .fade-vinheta.fade-in {
          animation: vinhetaFade 1.2s cubic-bezier(.77,0,.18,1) forwards;
        }
        @keyframes vinhetaFade {
          0% {
            opacity: 0;
            background: radial-gradient(circle at 50% 50%, rgba(10,10,13,0) 0%, rgba(10,10,13,0.7) 60%, rgba(10,10,13,0.98) 100%);
          }
          70% {
            opacity: 1;
            background: radial-gradient(circle at 50% 50%, rgba(10,10,13,0.7) 40%, rgba(10,10,13,0.98) 100%);
          }
          100% {
            opacity: 1;
            background: radial-gradient(circle at 50% 50%, rgba(10,10,13,1) 100%, rgba(10,10,13,1) 100%);
            }
        }
    </style>
</head>
<body>
    <div class="scanlines"></div>
    <div class="particles" id="particles"></div>
    <header class="titulo-topo">
      <h1>CAIXA PRETA</h1>
    </header>
    <div class="fade-vinheta" id="fadeVinheta"></div>
    <div class="container" style="position: relative;">
        <div class="box-3d" id="box3d">
            <div class="face front"><span class="cp-face">ðŸ¤– CP</span></div>
            <div class="face back"></div>
            <div class="face right"></div>
            <div class="face left"></div>
            <div class="face top"></div>
            <div class="face bottom"></div>
        </div>
        <div id="layer-transition" style="display:none;">
          <div class="layer layer1"></div>
          <div class="layer layer2"></div>
          <div class="layer layer3"></div>
        </div>
        
        <!-- BotÃ£o abaixo do cubo -->
        <div style="margin-top: 180px; z-index: 10;">
            <a href="2-chat.html" style="background: var(--bg-dark); color: var(--neon-cyan); border: 2px solid var(--neon-cyan); border-radius: 8px; padding: 12px 24px; font-weight: bold; font-size: 1rem; cursor: pointer; transition: all 0.3s ease; text-decoration: none; display: flex; align-items: center; justify-content: center; box-shadow: none !important; text-shadow: none !important;" onmouseover="this.style.boxShadow='none !important'; this.style.textShadow='none !important'; this.style.transform='translateY(-2px) scale(1.05)'; this.style.background='rgba(0,255,247,0.1)'" onmouseout="this.style.boxShadow='none !important'; this.style.textShadow='none !important'; this.style.transform='translateY(0) scale(1)'; this.style.background='var(--bg-dark)'">Iniciar Jornada</a>
        </div>
    </div>

    <script>
        const box = document.getElementById('box3d');
        let desmontada = false;
        
        // FunÃ§Ã£o para alternar Ã¡udio
        function toggleAudio() {
            if (isAudioEnabled()) {
                disableAudio();
                updateAudioButton();
            } else {
                enableAudio();
                updateAudioButton();
            }
        }
        
        // Atualiza o visual do botÃ£o
        function updateAudioButton() {
            const button = document.getElementById('audio-toggle');
            if (isAudioEnabled()) {
                button.textContent = 'ðŸ”‡ desativar Ã¡udio';
                button.style.background = 'rgba(255,74,74,0.1)';
                button.style.borderColor = '#ff4a4a';
                button.style.color = '#ff4a4a';
                button.style.textShadow = '0 0 4px #ff4a4a';
            } else {
                button.textContent = 'ðŸ”Š ativar Ã¡udio';
                button.style.background = 'rgba(0,255,247,0.1)';
                button.style.borderColor = 'var(--neon-cyan)';
                button.style.color = 'var(--neon-cyan)';
                button.style.textShadow = '0 0 4px var(--neon-cyan)';
            }
        }
        
        // Inicializa o botÃ£o ao carregar a pÃ¡gina
        document.addEventListener('DOMContentLoaded', function() {
            updateAudioButton();
        });
        
        box.addEventListener('click', function() {
            if (desmontada) return;
            desmontada = true;
            
            // Som de acesso/carregando
            playAccessSound();
            
            box.classList.add('desmontar');
            setTimeout(() => {
                box.classList.add('alinhar');
                setTimeout(() => {
                    // Efeito de vinheta/fade
                    const fade = document.getElementById('fadeVinheta');
                    fade.classList.add('fade-in');
                    setTimeout(() => {
                        window.location.href = '2-chat.html';
                    }, 1300);
                }, 1200);
            }, 1200);
        });

        // Particle emitter
        function createParticle() {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = Math.random() * 100 + 'vw';
            particle.style.animationDelay = Math.random() * 6 + 's';
            document.getElementById('particles').appendChild(particle);
            
            setTimeout(() => {
                particle.remove();
            }, 6000);
        }

        // Create particles periodically
        setInterval(createParticle, 400);

        // Add hover rotation effect
        let hoverSoundPlayed = false;
        
        box.addEventListener('mouseenter', function() {
            if (!hoverSoundPlayed) {
                playHoverSound();
                hoverSoundPlayed = true;
            }
        });
        
        box.addEventListener('mousemove', function(e) {
            const rect = this.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            const centerX = rect.width / 2;
            const centerY = rect.height / 2;
            
            const rotateX = (y - centerY) / 10;
            const rotateY = (centerX - x) / 10;
            
            this.style.transform = `rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale(1.05)`;
        });

        box.addEventListener('mouseleave', function() {
            this.style.transform = 'rotateX(0deg) rotateY(0deg) scale(1)';
            hoverSoundPlayed = false; // Reset para permitir som no prÃ³ximo hover
        });
    </script>
    
    <!-- BotÃ£o de Ã¡udio (canto inferior esquerdo) -->
    <div style="position: fixed; bottom: 20px; left: 20px; z-index: 1000;">
        <button id="audio-toggle" onclick="toggleAudio()" style="background: rgba(0,255,247,0.1); border: 1px solid var(--neon-cyan); border-radius: 4px; padding: 4px 8px; color: var(--neon-cyan); text-decoration: none; font-size: 0.7rem; text-shadow: 0 0 4px var(--neon-cyan); transition: all 0.3s ease; box-shadow: 0 0 8px rgba(0,255,247,0.2); cursor: pointer;" onmouseover="this.style.background='rgba(0,255,247,0.2)'; this.style.textShadow='0 0 8px var(--neon-cyan)'; this.style.transform='scale(1.05)'" onmouseout="this.style.background='rgba(0,255,247,0.1)'; this.style.textShadow='0 0 4px var(--neon-cyan)'; this.style.transform='scale(1)'">ðŸ”Š ativar Ã¡udio</button>
    </div>

    <!-- InformaÃ§Ãµes do autor (canto inferior direito) -->
    <div style="position: fixed; bottom: 20px; right: 20px; z-index: 1000; display: flex; flex-direction: column; align-items: flex-end; gap: 8px;">
        <a href="https://dayaneargentino.notion.site/Dayane-Argentino-Dias-2076e1d8545c805b9e09d97b773f9443?source=copy_link" target="_blank" style="color: var(--neon-yellow); text-decoration: none; font-size: 0.8rem; text-shadow: 0 0 6px var(--neon-yellow); transition: all 0.3s ease;" onmouseover="this.style.textShadow='0 0 12px var(--neon-yellow)'; this.style.transform='scale(1.05)'" onmouseout="this.style.textShadow='0 0 6px var(--neon-yellow)'; this.style.transform='scale(1)'">por Dayane Argentino</a>
        <a href="9-vibe-coding-desprogramativo.html" style="background: rgba(0,255,247,0.1); border: 1px solid var(--neon-cyan); border-radius: 4px; padding: 4px 8px; color: var(--neon-cyan); text-decoration: none; font-size: 0.7rem; text-shadow: 0 0 4px var(--neon-cyan); transition: all 0.3s ease; box-shadow: 0 0 8px rgba(0,255,247,0.2);" onmouseover="this.style.background='rgba(0,255,247,0.2)'; this.style.textShadow='0 0 8px var(--neon-cyan)'; this.style.transform='scale(1.05)'" onmouseout="this.style.background='rgba(0,255,247,0.1)'; this.style.textShadow='0 0 4px var(--neon-cyan)'; this.style.transform='scale(1)'">informaÃ§Ãµes</a>
    </div>
</body>
</html> 